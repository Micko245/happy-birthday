<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Surprise untuk NAMA_CEWEEKU üéâ</title>

  <style>
    :root {
      --bg1: #0f172a;
      --bg2: #1e293b;
      --accent: #ff377f;
      --glass: rgba(255, 255, 255, 0.06);
      --card-bg: rgba(255, 255, 255, 0.03);
      font-family: 'Poppins', system-ui, sans-serif;
    }

    html, body {
      height: 100%;
      margin: 0;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      color: #fff;
    }

    .wrap {
      min-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 32px;
      box-sizing: border-box;
    }

    .card {
      width: 100%;
      max-width: 980px;
      background: radial-gradient(ellipse at top left, rgba(255,255,255,0.02), transparent);
      border-radius: 18px;
      padding: 28px;
      box-shadow: 0 10px 40px rgba(2,6,23,0.6);
      backdrop-filter: blur(6px);
    }

    header {
      display: flex;
      gap: 16px;
      align-items: center;
    }

    .logo {
      width: 72px;
      height: 72px;
      border-radius: 14px;
      background: linear-gradient(135deg, var(--accent), #7c3aed);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 20px;
    }

    h1 {
      margin: 0;
      font-size: 28px;
    }

    p.lead {
      margin: 6px 0 12px;
      color: #d1d5db;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 360px;
      gap: 18px;
      margin-top: 16px;
    }

    @media(max-width:880px) {
      .grid { grid-template-columns: 1fr; }
      .logo { width: 56px; height: 56px; }
      .grid aside { order: 2; }
    }

    .hero {
      background: var(--card-bg);
      padding: 18px;
      border-radius: 12px;
    }

    .slideshow {
      height: 300px;
      border-radius: 10px;
      overflow: hidden;
      position: relative;
      background: #0b1220;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .slideshow img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transition: opacity .8s ease;
      position: absolute;
      left: 0;
      top: 0;
    }

    .controls {
      display: flex;
      gap: 8px;
      margin-top: 12px;
    }

    button.btn {
      background: linear-gradient(90deg, var(--accent), #ff8ab0);
      border: 0;
      padding: 10px 14px;
      border-radius: 10px;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 6px 18px rgba(255,55,127,0.12);
    }

    button.ghost {
      background: transparent;
      border: 1px solid rgba(255,255,255,0.06);
      color: #e6e6e6;
    }

    aside {
      padding: 18px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border-radius: 12px;
    }

    .message {
      font-size: 15px;
      line-height: 1.45;
      color: #e6eef8;
    }

    .big-msg {
      font-size: 20px;
      font-weight: 700;
      margin-top: 14px;
      color: #fff;
    }

    .secret {
      margin-top: 14px;
      display: flex;
      gap: 8px;
    }

    input[type="text"], textarea {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.05);
      background: transparent;
      color: #fff;
      resize: none;
    }

    .footer {
      display: flex;
      gap: 8px;
      align-items: center;
      justify-content: space-between;
      margin-top: 16px;
      color: #cbd5e1;
      font-size: 13px;
    }

    canvas#confetti {
      position: fixed;
      pointer-events: none;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      z-index: 999;
    }

    .music-toggle {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .rsvp {
      margin-top: 10px;
      display: flex;
      gap: 8px;
    }

    .heart {
      font-size: 20px;
      color: #ff6ea0;
    }

    .note {
      font-size: 13px;
      color: #9aa4b2;
    }
  </style>
</head>

<body>
  <canvas id="confetti"></canvas>
  <div class="wrap">
    <div class="card">

      <header>
        <div class="logo">üíå</div>
        <div>
          <h1>Untuk <span id="sheName">ANGGUNN</span> ‚Äî Surprise!</h1>
          <p class="lead">Buka kejutan ini di tanggal 26 Oktober 2025, dan lihat apa yang aku siapkan untukmu üíñ</p>
        </div>
      </header>

      <div class="grid">
        <main class="hero">
          <div class="slideshow" id="slideshow">
            <img src="pink-abstract-background_698452-1663.jpg" alt="amplop tertutup" style="opacity:1" data-index="0" id="imgAmplop">
            <img src="1 (1).jpeg" alt="amplop terbuka" style="opacity:0" data-index="1">
          </div>

          <div class="controls">
            <button class="btn" id="openBtn">Buka Kejutan üéÅ</button>
            <div style="flex:1"></div>
            <div class="music-toggle">
              <label class="note">Musik:</label>
              <button class="ghost" id="musicBtn">Play</button>
            </div>
          </div>

          <div class="message" id="mainMessage" style="margin-top:14px">
            Halo sayang, ini amplop kecil yang aku siapkan buat kamu. Coba klik ‚ÄúBuka Kejutan‚Äù ya üíå
          </div>

          <div class="big-msg" id="revealMsg" style="display:none">
            Aku sayang kamu ‚Äî terima kasih sudah selalu ada untukku üíñ
          </div>
        </main>

        <aside>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div style="font-size:13px;color:#9aa4b2">Countdown ke momen</div>
              <div id="countdown" style="font-weight:700;font-size:20px;margin-top:6px">--:--:--</div>
            </div>
            <div style="text-align:right">
              <div class="note">Creator</div>
              <div style="font-weight:700">Kamu ‚ù§Ô∏è</div>
            </div>
          </div>

          <div style="margin-top:14px">
            <div class="note">Pesan singkat</div>
            <textarea id="shortNote" rows="4">selmat ulang tahun yang ke 20 sayangkuuuu, semoga panjang umur pokok nyaaa sehattt2 terussss, suksesss dan di lancarkan semua urusan nyaa yaaa sayangggg. üíó</textarea>
          </div>
        </aside>
      </div>

      <div class="footer">
        <div class="note">Halaman surprise ‚Äî</div>
        <div>
          <span class="heart">üíó</span>
          <span class="note">26 Oktober 2025</span>
        </div>
      </div>

    </div>
  </div>

  <audio id="bgAudio" loop>
    <source src="lagu1.mp3" type="audio/mpeg">
  </audio>

  <script>
    const SHE_NAME = "ANGGUNN";
    document.getElementById('sheName').innerText = SHE_NAME;

    const slides = Array.from(document.querySelectorAll('#slideshow img'));
    const audio = document.getElementById('bgAudio');
    const musicBtn = document.getElementById('musicBtn');
    const openBtn = document.getElementById('openBtn');
    const revealMsg = document.getElementById('revealMsg');
    const mainMessage = document.getElementById('mainMessage');
    let playing = false;

    // tombol musik manual
    musicBtn.addEventListener('click', () => {
      if (!playing) {
        audio.play();
        musicBtn.innerText = 'Pause';
        playing = true;
      } else {
        audio.pause();
        musicBtn.innerText = 'Play';
        playing = false;
      }
    });

    // daftar foto tambahan untuk slideshow
    const photoList = ["2.jpeg", "3.jpeg", "4.jpeg", "5.jpeg"];

    // tombol buka kejutan
    openBtn.addEventListener('click', () => {
      // ganti foto ke amplop terbuka
      slides[0].style.opacity = 0;
      slides[1].style.opacity = 1;

      // tampilkan pesan cinta
      revealMsg.style.display = 'block';
      mainMessage.style.display = 'none';
      openBtn.style.display = 'none';

      // mainkan musik
      audio.play().then(() => {
        musicBtn.innerText = 'Pause';
        playing = true;
      }).catch(() => {});

      // efek confetti
      runConfetti();

      // MULAI SLIDESHOW SETELAH 2 DETIK
      setTimeout(() => {
        const imgEl = slides[1];
        let index = 0;

        setInterval(() => {
          imgEl.style.opacity = 0;
          setTimeout(() => {
            imgEl.src = photoList[index];
            imgEl.style.opacity = 1;
            index = (index + 1) % photoList.length;
          }, 800);
        }, 5000);
      }, 2000);
    });

    // countdown 26 oktober 2025
    const eventDate = new Date("2025-10-26T00:00:00");
    function updateCD() {
      const now = new Date();
      let diff = eventDate - now;
      if (diff <= 0) {
        document.getElementById('countdown').innerText = "Hari ini hari spesialmu! üéâ";
        return;
      }
      const d = Math.floor(diff / (1000 * 60 * 60 * 24));
      const h = Math.floor(diff / (1000 * 60 * 60) % 24);
      const m = Math.floor(diff / (1000 * 60) % 60);
      const s = Math.floor(diff / 1000 % 60);
      document.getElementById('countdown').innerText = `${d} hari ${h}:${m}:${s}`;
    }
    setInterval(updateCD, 1000);
    updateCD();

    // efek confetti
    function runConfetti(pieces = 80) {
      const canvas = document.getElementById('confetti');
      const ctx = canvas.getContext('2d');
      const DPR = window.devicePixelRatio || 1;

      function resize() {
        canvas.width = innerWidth * DPR;
        canvas.height = innerHeight * DPR;
        canvas.style.width = innerWidth + 'px';
        canvas.style.height = innerHeight + 'px';
        ctx.scale(DPR, DPR);
      }

      resize();
      window.addEventListener('resize', resize);

      let conf = [];
      for (let i = 0; i < pieces; i++) {
        conf.push({
          x: Math.random() * innerWidth,
          y: -Math.random() * innerHeight,
          r: 6 + Math.random() * 8,
          c: ['#ff377f', '#ffd166', '#7c3aed', '#6ee7b7'][Math.floor(Math.random() * 4)],
          vx: -2 + Math.random() * 4,
          vy: 2 + Math.random() * 4,
          rot: Math.random() * 360,
          vr: -5 + Math.random() * 10
        });
      }

      function frame() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        conf.forEach(o => {
          o.x += o.vx;
          o.y += o.vy;
          o.vy += 0.05;
          o.rot += o.vr;
          ctx.save();
          ctx.translate(o.x, o.y);
          ctx.rotate(o.rot * Math.PI / 180);
          ctx.fillStyle = o.c;
          ctx.fillRect(-o.r / 2, -o.r / 2, o.r, o.r * 0.6);
          ctx.restore();
        });
        conf = conf.filter(o => o.y < innerHeight + 40);
        if (conf.length > 0) requestAnimationFrame(frame);
      }

      frame();
    }
  </script>
</body>
</html>
